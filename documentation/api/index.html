<!DOCTYPE html>
<html lang="en" class="h-full w-full"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>API | notion-enhancer</title><link href="/media/colour-x32.png" rel="icon" type="image/png" sizes="32x32"><meta name="description" content="Documentation of the helper API available to notion-enhancer mods."><meta property="og:image" content="https://notion-enhancer.github.io/media/colour-x512.png"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://notion-enhancer.github.io"><meta name="twitter:title" content="API | notion-enhancer"><meta name="twitter:description" content="Documentation of the helper API available to notion-enhancer mods."><meta name="twitter:image" content="https://notion-enhancer.github.io/media/colour-x512.png"><meta name="twitter:creator" content="@dragonwocky"><link rel="stylesheet" href="https://rsms.me/inter/inter.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="/windi.css"><script type="module" src="/app.js"></script></head><body class="min-h-full w-full flex flex-col font-sans bg-body h-full"><a href="https://discord.gg/sFWPXtA"> <figure class="flex items-center bg-red-500 text-white text-sm font-bold px-4 py-3" role="banner"><figcaption><span class="mr-1.5">⚠️</span> Recent Notion updates have impaired the functioning of the notion-enhancer. See the #announcements channel in the Discord server for more information until a fix can be released.</figcaption></figure> </a><header class="bg-header border-b-1 border-dim flex justify-center <sm:pb-4 <sm:pt-4.5 sm:py-6"><div class="flex <sm:flex-col <sm:px-4 sm:flex-row sm:px-6 flex-grow <lg:max-w-[93ch] lg:max-w-[132ch] xl:max-w-[144ch]"><a href="/" class="flex-shrink-0 grid w-max max-w-full pr-2 flex items-center"> <div class="col-span-1 row-span-2 w-18 mr-4"><img src="/media/animated.gif" class="h-18 w-full"></div> <h1 class="col-start-2 mt-auto font-mono font-bold text-lg">notion-enhancer</h1> <p class="col-start-2 mb-auto text-xs max-w-56">an enhancer/customiser for the all-in-one productivity workspace notion.so</p> </a><nav class="sm:ml-auto" aria-label="links"><ul class="flex flex-row flex-wrap sm:items-center sm:h-full sm:justify-end <sm:mt-4"><li class="<sm:hidden p-1 relative flex justify-center group"><button data-action="open-search" class="button !bg-opacity-0 !hover:bg-opacity-50 sm:text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></button> <span class="tooltip opacity-0 group-hover:opacity-100 -bottom-7.5"> Search </span></li><li class="<sm:hidden p-1 relative flex justify-center group"><button data-action="toggle-theme" class="button !bg-opacity-0 !hover:bg-opacity-50 sm:text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button> <span class="tooltip opacity-0 group-hover:opacity-100 -bottom-7.5"> Toggle theme </span></li><li class="<sm:p-0.5 <sm:flex-grow <sm:text-center sm:p-1"><a href="https://discord.gg/sFWPXtA" class="button <sm:text-xs <sm:py-2 <sm:px-3 <sm:justify-center sm:text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather <sm:h-3 <sm:w-3 feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg> <span>Community</span> </a></li><li class="<sm:p-0.5 <sm:flex-grow <sm:text-center sm:p-1"><a href="https://github.com/notion-enhancer" class="button <sm:text-xs <sm:py-2 <sm:px-3 <sm:justify-center sm:text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather <sm:h-3 <sm:w-3 feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> <span>Source Code</span> </a></li><li class="<sm:p-0.5 <sm:flex-grow <sm:text-center sm:p-1"><a href="https://github.com/sponsors/dragonwocky" class="button <sm:text-xs <sm:py-2 <sm:px-3 <sm:justify-center sm:text-sm"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather <sm:h-3 <sm:w-3 feather-coffee"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg> <span>Sponsor</span> </a></li></ul></nav></div></header><main class="flex-grow flex <md:flex-col sm:overflow-hidden justify-center"><aside aria-label="menu" class="pt-2 sm:pb-8 md:pl-6 pr-10 <xl:w-[28ch] xl:w-[32ch] max-h-full min-h-full <md:fixed <md:top-0 <md:left-0 <md:transform <md:-translate-x-[28ch] <md:pb-16 <md:pl-10 flex-shrink-0 overflow-y-auto z-1 text-base bg-body border-r-1 border-dim"><ul><li><p class="mt-6 mb-2"><strong>Getting Started</strong></p> <ul><li><a href="/getting-started/installation/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Installation</a></li><li><a href="/getting-started/basic-usage/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Basic Usage</a></li><li><a href="/getting-started/features/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Features</a></li></ul></li><li><p class="mt-6 mb-2"><strong>Advanced Usage</strong></p> <ul><li><a href="/advanced/tweaks/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Tweaks</a></li><li><a href="/advanced/icons/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Icons</a></li></ul></li><li><p class="mt-6 mb-2"><strong>About</strong></p> <ul><li><a href="/about/credits/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Credits</a></li><li><a href="/about/changelog/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Changelog</a></li><li><a href="/about/contributing/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Contributing</a></li><li><a href="/about/code-of-conduct/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Code of Conduct</a></li><li><a href="/about/privacy-policy/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Privacy Policy</a></li><li><a href="/about/terms-and-conditions/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Terms &amp; Conditions</a></li></ul></li><li><p class="mt-6 mb-2"><strong>Developer Documentation</strong></p> <ul><li><a href="/documentation/concepts/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Concepts</a></li><li><a href="/documentation/mods/" class="border-l border-dim pl-3 py-1 text-sm transition duration-200 text-dim hover:text-primary">Mods</a></li><li><a aria-current="page" href="/documentation/api/" class="border-l border-primary pl-3 py-1 text-sm text-primary">API</a></li></ul></li></ul></aside><article class="px-10 py-8 w-full md:<lg:max-w-prose lg:max-w-[80ch] min-h-full flex flex-col <md:flex-grow overflow-y-auto"><div class="prose flex-grow relative"><h1 id="api">API</h1><p id="the-notion-enhancer-comes-with">The notion-enhancer comes with a large set of helpers built-in. These are used internally by the modloader and are made available to simplify common tasks. Where possible, mods <b>must</b> depend on this API to improve mod quality and maintainability.</p><p id="type-and-usage-details-have-been">Type &amp; usage details have been generated from JSDoc comments in the <a href="https://github.com/notion-enhancer/api">notion-enhancer/api</a> repository and provided below.</p><hr id=""><h3 class="!mb-0" id="components">components</h3><p class="text-dim" id="shared-notion-style">shared notion-style elements</p><pre id="components.addtooltip-1"><code><h4 class="!my-0" id="components.addtooltip">components.addTooltip <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>add a tooltip to show extra information on hover
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">HTMLElement</span>} <h4 class="inline !font-medium" id="dollarref">$ref</h4> - the element that will trigger the tooltip when hovered
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string|HTMLElement</span>} <h4 class="inline !font-medium" id="dollarcontent">$content</h4> - markdown or element content of the tooltip
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="options">options</h4> - configuration of how the tooltip should be displayed
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="options.delay">options.delay</h4> - the amount of time in ms the element needs to be hovered over
for the tooltip to be shown (default: 100)
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="options.offsetdirection">options.offsetDirection</h4> - which side of the element the tooltip
should be shown on: 'top', 'bottom', 'left' or 'right' (default: 'bottom')
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="options.maxlines">options.maxLines</h4> - the max number of lines that the content may be wrapped
to, used to position and size the tooltip correctly (default: 1)</code></pre><pre id="components.feather-function-1"><code><h4 class="!my-0" id="components.feather-function">components.feather <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>generate an icon from the feather icons set
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="name">name</h4> - the name/id of the icon
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="attrs">attrs</h4> - an object of attributes to apply to the icon e.g. classes
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} an svg string</code></pre><pre id="components.addcorneraction-1"><code><h4 class="!my-0" id="components.addcorneraction">components.addCornerAction <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>adds a button to notion's bottom right corner
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="icon">icon</h4> - an svg string
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="listener">listener</h4> - the function to call when the button is clicked
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Element</span>} the appended corner action element</code></pre><pre id="components.addpanelview-1"><code><h4 class="!my-0" id="components.addpanelview">components.addPanelView <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>adds a view to the enhancer's side panel
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="panel">panel</h4> - information used to construct and render the panel
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="panel.id">panel.id</h4> - a uuid, used to restore the last open view on reload
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="panel.icon">panel.icon</h4> - an svg string
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="panel.title">panel.title</h4> - the name of the view
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">Element</span>} <h4 class="inline !font-medium" id="panel.dollarcontent">panel.$content</h4> - an element containing the content of the view
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="panel.onblur">panel.onBlur</h4> - runs when the view is selected/focused
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="panel.onfocus">panel.onFocus</h4> - runs when the view is unfocused/closed</code></pre><h3 class="!mb-0" id="electron">electron</h3><p class="text-dim" id="access-to-electron-renderer">access to electron renderer apis</p><pre id="electron.browser-1"><code><h4 class="!my-0" id="electron.browser">electron.browser <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">BrowserWindow</span><span class="text-dim">} </span></h4>access to the electron BrowserWindow instance for the current window
see https://www.electronjs.org/docs/latest/api/browser-window
<span class="text-primary">@process</span> electron (renderer process)</code></pre><pre id="electron.webframe-webframe-1"><code><h4 class="!my-0" id="electron.webframe-webframe">electron.webFrame <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">webFrame</span><span class="text-dim">} </span></h4>access to the electron webFrame instance for the current page
see https://www.electronjs.org/docs/latest/api/web-frame
<span class="text-primary">@process</span> electron (renderer process)</code></pre><pre id="electron.sendmessage-function-1"><code><h4 class="!my-0" id="electron.sendmessage-function">electron.sendMessage <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>send a message to the main electron process
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="channel">channel</h4> - the message identifier
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">any</span>} <h4 class="inline !font-medium" id="data">data</h4> - the data to pass along with the message
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="namespace">namespace</h4> - a prefix for the message to categorise
it as e.g. enhancer-related. this should not be changed unless replicating
builtin ipc events.
<span class="text-primary">@process</span> electron (renderer process)</code></pre><pre id="electron.sendmessagetohost-1"><code><h4 class="!my-0" id="electron.sendmessagetohost">electron.sendMessageToHost <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>send a message to the webview's parent renderer process
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="channel-1">channel</h4> - the message identifier
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">any</span>} <h4 class="inline !font-medium" id="data-1">data</h4> - the data to pass along with the message
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="namespace-1">namespace</h4> - a prefix for the message to categorise
it as e.g. enhancer-related. this should not be changed unless replicating
builtin ipc events.
<span class="text-primary">@process</span> electron (renderer process)</code></pre><pre id="electron.onmessage-function-1"><code><h4 class="!my-0" id="electron.onmessage-function">electron.onMessage <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>receive a message from either the main process or
the webview's parent renderer process
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="channel-2">channel</h4> - the message identifier to listen for
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="callback">callback</h4> - the message handler, passed the args (event, data)
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="namespace-2">namespace</h4> - a prefix for the message to categorise
it as e.g. enhancer-related. this should not be changed unless replicating
builtin ipc events.
<span class="text-primary">@process</span> electron (renderer process)</code></pre><pre id="electron.notionrequire-1"><code><h4 class="!my-0" id="electron.notionrequire">electron.notionRequire <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>require() notion app files
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path">path</h4> - within notion/resources/app/ e.g. main/createWindow.js
<span class="text-primary">@process</span> electron (main process)</code></pre><pre id="electron.getnotionwindows-1"><code><h4 class="!my-0" id="electron.getnotionwindows">electron.getNotionWindows <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get all available app windows excluding the menu
<span class="text-primary">@process</span> electron (main process)</code></pre><pre id="electron.getfocusednotionwindow-1"><code><h4 class="!my-0" id="electron.getfocusednotionwindow">electron.getFocusedNotionWindow <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get the currently focused notion window
<span class="text-primary">@process</span> electron (main process)</code></pre><h3 class="!mb-0" id="env">env</h3><p class="text-dim" id="environment-specific-methods">environment-specific methods and constants</p><pre id="env.name-string-the"><code><h4 class="!my-0" id="env.name-string">env.name <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">string</span><span class="text-dim">} </span></h4>the environment/platform name code is currently being executed in
<span class="text-primary">@constant</span> </code></pre><pre id="env.version-string-the"><code><h4 class="!my-0" id="env.version-string">env.version <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">string</span><span class="text-dim">} </span></h4>the current version of the enhancer
<span class="text-primary">@constant</span> </code></pre><pre id="env.focusmenu-function-open"><code><h4 class="!my-0" id="env.focusmenu-function">env.focusMenu <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>open the enhancer's menu</code></pre><pre id="env.focusnotion-function-1"><code><h4 class="!my-0" id="env.focusnotion-function">env.focusNotion <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>focus an active notion tab</code></pre><pre id="env.reload-function-reload"><code><h4 class="!my-0" id="env.reload-function">env.reload <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>reload all notion and enhancer menu tabs to apply changes</code></pre><h3 class="!mb-0" id="fmt">fmt</h3><p class="text-dim" id="helpers-for-formatting-or">helpers for formatting or parsing text</p><pre id="fmt.slugger-function-1"><code><h4 class="!my-0" id="fmt.slugger-function">fmt.slugger <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>transform a heading into a slug (a lowercase alphanumeric string separated by hyphens),
e.g. for use as an anchor id
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="heading">heading</h4> - the original heading to be slugified
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">Set&lt;string&gt;</span>} <h4 class="inline !font-medium" id="slugs">slugs</h4> - a list of pre-generated slugs to avoid duplicates
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} the generated slug</code></pre><pre id="fmt.uuidv4-function-generate"><code><h4 class="!my-0" id="fmt.uuidv4-function">fmt.uuidv4 <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>generate a reasonably random uuidv4 string. uses crypto implementation if available
(from https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid)
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} a uuidv4</code></pre><pre id="fmt.rgblogshade-function-1"><code><h4 class="!my-0" id="fmt.rgblogshade-function">fmt.rgbLogShade <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>log-based shading of an rgb color, from
https://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="shade">shade</h4> - a decimal amount to shade the color.
1 = white, 0 = the original color, -1 = black
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="color">color</h4> - the rgb color
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} the shaded color</code></pre><pre id="fmt.rgbcontrast-function-pick"><code><h4 class="!my-0" id="fmt.rgbcontrast-function">fmt.rgbContrast <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>pick a contrasting color e.g. for text on a variable color background
using the hsp (perceived brightness) constants from http://alienryderflex.com/hsp.html
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="r">r</h4> - red (0-255)
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="g">g</h4> - green (0-255)
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="b">b</h4> - blue (0-255)
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} the contrasting rgb color, white or black</code></pre><pre id="fmt.is-function-test-the-type"><code><h4 class="!my-0" id="fmt.is-function">fmt.is <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>test the type of a value. unifies builtin, regex, and environment/api checks
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">unknown</span>} <h4 class="inline !font-medium" id="value">value</h4> - the value to check
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string|string[]</span>} <h4 class="inline !font-medium" id="type">type</h4> - the type the value should be or a list of allowed values
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">boolean</span>} whether or not the value matches the type</code></pre><h3 class="!mb-0" id="fs">fs</h3><p class="text-dim" id="environment-specific-file">environment-specific file reading</p><pre id="fs.notionpath-function-get-an"><code><h4 class="!my-0" id="fs.notionpath-function">fs.notionPath <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get an absolute path to files within notion
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-1">path</h4> - relative to the root notion/resources/app/ e.g. renderer/search.js
<span class="text-primary">@process</span> electron</code></pre><pre id="fs.localpath-function-1"><code><h4 class="!my-0" id="fs.localpath-function">fs.localPath <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>transform a path relative to the enhancer root directory into an absolute path
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-2">path</h4> - a url or within-the-enhancer filepath
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} an absolute filepath</code></pre><pre id="fs.getjson-function-fetch-and"><code><h4 class="!my-0" id="fs.getjson-function">fs.getJSON <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>fetch and parse a json file's contents
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-3">path</h4> - a url or within-the-enhancer filepath
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">FetchOptions</span>} <h4 class="inline !font-medium" id="opts">opts</h4> - the second argument of a fetch() request
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">unknown</span>} the json value of the requested file as a js object</code></pre><pre id="fs.gettext-function-fetch-a"><code><h4 class="!my-0" id="fs.gettext-function">fs.getText <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>fetch a text file's contents
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-4">path</h4> - a url or within-the-enhancer filepath
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">FetchOptions</span>} <h4 class="inline !font-medium" id="opts-1">opts</h4> - the second argument of a fetch() request
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} the text content of the requested file</code></pre><pre id="fs.isfile-function-check-if-a"><code><h4 class="!my-0" id="fs.isfile-function">fs.isFile <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>check if a file exists
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-5">path</h4> - a url or within-the-enhancer filepath
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">boolean</span>} whether or not the file exists</code></pre><h3 class="!mb-0" id="notion">notion</h3><p class="text-dim" id="a-basic-wrapper-around-notion's">a basic wrapper around notion's content apis</p><pre id="notion.get-function-1"><code><h4 class="!my-0" id="notion.get-function">notion.get <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>unofficial content api: get a block by id
(requires user to be signed in or content to be public).
why not use the official api?
1. cors blocking prevents use on the client
2. the majority of blocks are still 'unsupported'
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="id">id</h4> - uuidv4 record id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="table">table</h4> - record type (default: 'block').
may also be 'collection', 'collection_view', 'space', 'notion_user', 'discussion', or 'comment'
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise&lt;object&gt;</span>} record data. type definitions can be found here:
https://github.com/NotionX/react-notion-x/tree/master/packages/notion-types/src</code></pre><pre id="notion.getuserid-function-get"><code><h4 class="!my-0" id="notion.getuserid-function">notion.getUserID <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get the id of the current user (requires user to be signed in)
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} uuidv4 user id</code></pre><pre id="notion.getpageid-function-get"><code><h4 class="!my-0" id="notion.getpageid-function">notion.getPageID <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get the id of the currently open page
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} uuidv4 page id</code></pre><pre id="notion.getspaceid-function-1"><code><h4 class="!my-0" id="notion.getspaceid-function">notion.getSpaceID <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get the id of the currently open workspace (requires user to be signed in)
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} uuidv4 space id</code></pre><pre id="notion.search-function-1"><code><h4 class="!my-0" id="notion.search-function">notion.search <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>unofficial content api: search all blocks in a space
(requires user to be signed in or content to be public).
why not use the official api?
1. cors blocking prevents use on the client
2. the majority of blocks are still 'unsupported'
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="query">query</h4> - query to search blocks in the space for
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">number</span>} <h4 class="inline !font-medium" id="limit">limit</h4> - the max number of results to return (default: 20)
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="spaceid">spaceID</h4> - uuidv4 workspace id
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} the number of total results, the list of matches, and related record values.
type definitions can be found here: https://github.com/NotionX/react-notion-x/blob/master/packages/notion-types/src/api.ts</code></pre><pre id="notion.set-function-1"><code><h4 class="!my-0" id="notion.set-function">notion.set <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>unofficial content api: update a property/the content of an existing record
(requires user to be signed in or content to be public).
TEST THIS THOROUGHLY. misuse can corrupt a record, leading the notion client
to be unable to parse and render content properly and throw errors.
why not use the official api?
1. cors blocking prevents use on the client
2. the majority of blocks are still 'unsupported'
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="pointer">pointer</h4> - the record being updated
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="recordvalue">recordValue</h4> - the new raw data values to set to the record.
for examples, use notion.get to fetch an existing block record.
to use this to update content, set pointer.path to ['properties', 'title]
and recordValue to an array of rich text segments. a segment is an array
where the first value is the displayed text and the second value
is an array of decorations. a decoration is an array where the first value
is a modifier and the second value specifies it. e.g.
[
['bold text', [['b']]],
[' '],
['an italicised link', [['i'], ['a', 'https://github.com']]],
[' '],
['highlighted text', [['h', 'pink_background']]],
]
more examples can be creating a block with the desired content/formatting,
then find the value of blockRecord.properties.title using notion.get.
type definitions can be found here: https://github.com/NotionX/react-notion-x/blob/master/packages/notion-types/src/core.ts
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.recordid">pointer.recordID</h4> - uuidv4 record id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.recordtable">pointer.recordTable</h4> - record type (default: 'block').
may also be 'collection', 'collection_view', 'space', 'notion_user', 'discussion', or 'comment'
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.property">pointer.property</h4> - the record property to update.
for record content, it will be the default: 'title'.
for page properties, it will be the property id (the key used in pageRecord.properties).
other possible values are unknown/untested
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.spaceid">pointer.spaceID</h4> - uuidv4 workspace id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.path">pointer.path</h4> - the path to the key to be set within the record
(default: [], the root of the record's values)
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">boolean|object</span>} true if success, else an error object</code></pre><pre id="notion.create-function-1"><code><h4 class="!my-0" id="notion.create-function">notion.create <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>unofficial content api: create and add a new block to a page
(requires user to be signed in or content to be public).
TEST THIS THOROUGHLY. misuse can corrupt a record, leading the notion client
to be unable to parse and render content properly and throw errors.
why not use the official api?
1. cors blocking prevents use on the client
2. the majority of blocks are still 'unsupported'
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="insert">insert</h4> - the new record.
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="pointer-1">pointer</h4> - where to insert the new block
for examples, use notion.get to fetch an existing block record.
type definitions can be found here: https://github.com/NotionX/react-notion-x/blob/master/packages/notion-types/src/block.ts
may also be 'collection', 'collection_view', 'space', 'notion_user', 'discussion', or 'comment'
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="insert.recordvalue">insert.recordValue</h4> - the new raw data values to set to the record.
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="insert.recordtable">insert.recordTable</h4> - record type (default: 'block').
may also be 'collection', 'collection_view', 'space', 'notion_user', 'discussion', or 'comment'
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.prepend">pointer.prepend</h4> - insert before pointer.siblingID. if false, will be appended after
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.siblingid">pointer.siblingID</h4> - uuidv4 sibling id. if unset, the record will be
inserted at the end of the page start (or the start if pointer.prepend is true)
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.parentid">pointer.parentID</h4> - uuidv4 parent id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.parenttable">pointer.parentTable</h4> - parent record type (default: 'block').
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.spaceid-1">pointer.spaceID</h4> - uuidv4 space id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.userid">pointer.userID</h4> - uuidv4 user id
instead of the end
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string|object</span>} error object or uuidv4 of the new record</code></pre><pre id="notion.upload-function-1"><code><h4 class="!my-0" id="notion.upload-function">notion.upload <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>unofficial content api: upload a file to notion's aws servers
(requires user to be signed in or content to be public).
TEST THIS THOROUGHLY. misuse can corrupt a record, leading the notion client
to be unable to parse and render content properly and throw errors.
why not use the official api?
1. cors blocking prevents use on the client
2. the majority of blocks are still 'unsupported'
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">File</span>} <h4 class="inline !font-medium" id="file">file</h4> - the file to upload
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="pointer-2">pointer</h4> - where the file should be accessible from
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.pageid">pointer.pageID</h4> - uuidv4 page id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="pointer.spaceid-2">pointer.spaceID</h4> - uuidv4 space id
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string|object</span>} error object or the url of the uploaded file</code></pre><pre id="notion.sign-function-redirect"><code><h4 class="!my-0" id="notion.sign-function">notion.sign <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>redirect through notion to a resource's signed aws url for display outside of notion
(requires user to be signed in or content to be public)
<span class="text-primary">@param</span> <h4 class="inline !font-medium" id="src">src</h4> source url for file
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="recordid">recordID</h4> uuidv4 record/block/file id
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="recordtable">recordTable</h4> record type (default: 'block').
may also be 'collection', 'collection_view', 'space', 'notion_user', 'discussion', or 'comment'
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} url signed if necessary, else string as-is</code></pre><h3 class="!mb-0" id="registry">registry</h3><p class="text-dim" id="interactions-with-the">interactions with the enhancer's repository of mods</p><pre id="registry.core-string-mod"><code><h4 class="!my-0" id="registry.core-string">registry.core <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">string[]</span><span class="text-dim">} </span></h4>mod ids whitelisted as part of the enhancer's core, permanently enabled
<span class="text-primary">@constant</span> </code></pre><pre id="registry.supportedenvs-1"><code><h4 class="!my-0" id="registry.supportedenvs">registry.supportedEnvs <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">string[]</span><span class="text-dim">} </span></h4>all environments/platforms currently supported by the enhancer
<span class="text-primary">@constant</span> </code></pre><pre id="registry.optiontypes-string-1"><code><h4 class="!my-0" id="registry.optiontypes-string">registry.optionTypes <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">string[]</span><span class="text-dim">} </span></h4>all available configuration types
<span class="text-primary">@constant</span> </code></pre><pre id="registry.profilename-function-1"><code><h4 class="!my-0" id="registry.profilename-function">registry.profileName <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>the name of the active configuration profile
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} </code></pre><pre id="registry.profiledb-function-1"><code><h4 class="!my-0" id="registry.profiledb-function">registry.profileDB <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>the root database for the current profile
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} the get/set functions for the profile's storage</code></pre><pre id="registry.list-function-list"><code><h4 class="!my-0" id="registry.list-function">registry.list <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>list all available mods in the repo
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="filter">filter</h4> - a function to filter out mods
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">array</span>} a validated list of mod.json objects</code></pre><pre id="registry.errors-function-list"><code><h4 class="!my-0" id="registry.errors-function">registry.errors <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>list validation errors encountered when loading the repo
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">{ source: string, message: string </span>} </code></pre><pre id="registry.get-function-get-a"><code><h4 class="!my-0" id="registry.get-function">registry.get <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get a single mod from the repo
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="id-1">id</h4> - the uuid of the mod
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} the mod's mod.json</code></pre><pre id="registry.enabled-function-1"><code><h4 class="!my-0" id="registry.enabled-function">registry.enabled <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>checks if a mod is enabled: affected by the core whitelist,
environment and menu configuration
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="id-2">id</h4> - the uuid of the mod
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">boolean</span>} whether or not the mod is enabled</code></pre><pre id="registry.optiondefault-1"><code><h4 class="!my-0" id="registry.optiondefault">registry.optionDefault <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get a default value of a mod's option according to its mod.json
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="id-3">id</h4> - the uuid of the mod
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="key">key</h4> - the key of the option
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string|number|boolean|undefined</span>} the option's default value</code></pre><pre id="registry.db-function-access"><code><h4 class="!my-0" id="registry.db-function">registry.db <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>access the storage partition of a mod in the current profile
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="id-4">id</h4> - the uuid of the mod
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} an object with the wrapped get/set functions</code></pre><h3 class="!mb-0" id="storage">storage</h3><p class="text-dim" id="environment-specific-data">environment-specific data persistence</p><pre id="storage.get-function-get"><code><h4 class="!my-0" id="storage.get-function">storage.get <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>get persisted data
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string[]</span>} <h4 class="inline !font-medium" id="path-6">path</h4> - the path of keys to the value being fetched
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">unknown</span>} <h4 class="inline !font-medium" id="fallback">fallback</h4> - a default value if the path is not matched
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise</span>} value ?? fallback</code></pre><pre id="storage.set-function-persist"><code><h4 class="!my-0" id="storage.set-function">storage.set <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>persist data
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string[]</span>} <h4 class="inline !font-medium" id="path-7">path</h4> - the path of keys to the value being set
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">unknown</span>} <h4 class="inline !font-medium" id="value-1">value</h4> - the data to save
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise</span>} resolves when data has been saved</code></pre><pre id="storage.db-function-create-a"><code><h4 class="!my-0" id="storage.db-function">storage.db <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>create a wrapper for accessing a partition of the storage
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string[]</span>} <h4 class="inline !font-medium" id="namespace-3">namespace</h4> - the path of keys to prefix all storage requests with
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="get">get</h4> - the storage get function to be wrapped
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="set">set</h4> - the storage set function to be wrapped
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} an object with the wrapped get/set functions</code></pre><pre id="storage.addchangelistener-1"><code><h4 class="!my-0" id="storage.addchangelistener">storage.addChangeListener <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>add an event listener for changes in storage
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">onStorageChangeCallback</span>} <h4 class="inline !font-medium" id="callback-1">callback</h4> - called whenever a change in
storage is initiated from the current process</code></pre><pre id="storage.removechangelistener-1"><code><h4 class="!my-0" id="storage.removechangelistener">storage.removeChangeListener <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>remove a listener added with storage.addChangeListener
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">onStorageChangeCallback</span>} <h4 class="inline !font-medium" id="callback-2">callback</h4> </code></pre><h3 class="!mb-0" id="web">web</h3><p class="text-dim" id="helpers-for-manipulation-of-a">helpers for manipulation of a webpage</p><pre id="web.whenready-function-wait"><code><h4 class="!my-0" id="web.whenready-function">web.whenReady <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>wait until a page is loaded and ready for modification
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">array</span>} <h4 class="inline !font-medium" id="selectors">selectors</h4> - wait for the existence of elements that match these css selectors
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise</span>} a promise that will resolve when the page is ready</code></pre><pre id="web.queryparams-function-1"><code><h4 class="!my-0" id="web.queryparams-function">web.queryParams <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>parse the current location search params into a usable form
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Map&lt;string, string&gt;</span>} a map of the url search params</code></pre><pre id="web.escape-function-replace"><code><h4 class="!my-0" id="web.escape-function">web.escape <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>replace special html characters with escaped versions
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="str">str</h4> 
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} escaped string</code></pre><pre id="web.raw-function-a-tagged"><code><h4 class="!my-0" id="web.raw-function">web.raw <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>a tagged template processor for raw html:
stringifies, minifies, and syntax highlights
<span class="text-primary">@example</span> web.raw`&lt;p&gt;hello&lt;/p&gt;`
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} the processed html</code></pre><pre id="web.html-function-create-a"><code><h4 class="!my-0" id="web.html-function">web.html <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>create a single html element inc. attributes and children from a string
<span class="text-primary">@example</span> web.html`&lt;p&gt;hello&lt;/p&gt;`
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Element</span>} the constructed html element</code></pre><pre id="web.render-function-appends-a"><code><h4 class="!my-0" id="web.render-function">web.render <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>appends a list of html elements to a parent
<span class="text-primary">@param</span> <h4 class="inline !font-medium" id="dollarcontainer">$container</h4> - the parent element
<span class="text-primary">@param</span> <h4 class="inline !font-medium" id="dollarelems">$elems</h4> - the elements to be appended
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Element</span>} the updated $container</code></pre><pre id="web.empty-function-removes"><code><h4 class="!my-0" id="web.empty-function">web.empty <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>removes all children from an element without deleting them/their behaviours
<span class="text-primary">@param</span> <h4 class="inline !font-medium" id="dollarcontainer-1">$container</h4> - the parent element
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Element</span>} the updated $container</code></pre><pre id="web.loadstylesheet-function-1"><code><h4 class="!my-0" id="web.loadstylesheet-function">web.loadStylesheet <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>loads/applies a css stylesheet to the page
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="path-8">path</h4> - a url or within-the-enhancer filepath</code></pre><pre id="web.copytoclipboard-function-1"><code><h4 class="!my-0" id="web.copytoclipboard-function">web.copyToClipboard <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>copy text to the clipboard
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">string</span>} <h4 class="inline !font-medium" id="str-1">str</h4> - the string to copy
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise&lt;void&gt;</span>} </code></pre><pre id="web.readfromclipboard-1"><code><h4 class="!my-0" id="web.readfromclipboard">web.readFromClipboard <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>read text from the clipboard
<span class="text-primary">@return</span> {<span class="text-blue-600 dark:text-blue-300">Promise&lt;string&gt;</span>} </code></pre><pre id="web.addhotkeylistener-1"><code><h4 class="!my-0" id="web.addhotkeylistener">web.addHotkeyListener <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>register a hotkey listener to the page
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">array|string</span>} <h4 class="inline !font-medium" id="keys">keys</h4> - the combination of keys that will trigger the hotkey.
key codes can be tested at http://keycode.info/ and are case-insensitive.
available modifiers are 'alt', 'ctrl', 'meta', and 'shift'.
can be provided as a + separated string.
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="callback-3">callback</h4> - called whenever the keys are pressed
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">object</span>} <h4 class="inline !font-medium" id="opts-2">opts</h4> - fine-tuned control over when the hotkey should be triggered
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">boolean</span>} <h4 class="inline !font-medium" id="opts.listenininput">opts.listenInInput</h4> - whether the hotkey callback should be triggered
when an input is focused
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">boolean</span>} <h4 class="inline !font-medium" id="opts.keydown">opts.keydown</h4> - whether to listen for the hotkey on keydown.
by default, hotkeys are triggered by the keyup event.</code></pre><pre id="web.removehotkeylistener-1"><code><h4 class="!my-0" id="web.removehotkeylistener">web.removeHotkeyListener <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>remove a listener added with web.addHotkeyListener
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">function</span>} <h4 class="inline !font-medium" id="callback-4">callback</h4> </code></pre><pre id="web.adddocumentobserver-1"><code><h4 class="!my-0" id="web.adddocumentobserver">web.addDocumentObserver <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>add a listener to watch for changes to the dom
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">onDocumentObservedCallback</span>} <h4 class="inline !font-medium" id="callback-5">callback</h4> 
<span class="text-primary">@param?</span> {<span class="text-blue-600 dark:text-blue-300">string[]</span>} <h4 class="inline !font-medium" id="selectors-1">selectors</h4> </code></pre><pre id="web.removedocumentobserver-1"><code><h4 class="!my-0" id="web.removedocumentobserver">web.removeDocumentObserver <span class="text-dim">{</span><span class="text-blue-600 dark:text-blue-300">function</span><span class="text-dim">} </span></h4>remove a listener added with web.addDocumentObserver
<span class="text-primary">@param</span> {<span class="text-blue-600 dark:text-blue-300">onDocumentObservedCallback</span>} <h4 class="inline !font-medium" id="callback-6">callback</h4> </code></pre></div><a href="https://github.com/notion-enhancer/notion-enhancer.github.io/edit/main/documentation/api.njk" class="mt-8 link flex items-center space-x-3" id="edit-this-page"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg> <span>Edit this page</span> </a><footer class="flex border-dim border-t mt-8 pt-8"><a href="/documentation/mods/" rel="prev" class="link flex items-center space-x-3" id="mods"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg> <span>Mods</span> </a></footer></article><aside aria-label="table of contents" class="pt-2 pb-8 px-4 min-h-full text-base bg-body overflow-y-auto <lg:hidden lg:w-[24ch] xl:w-[32ch] flex-shrink-0"><p class="mt-6 mb-2 ml-3"><strong>Table of Contents</strong></p><ul><li><a href="#api" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">API</a></li><li><a href="#components" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">components</a></li><li><a href="#electron" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">electron</a></li><li><a href="#env" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">env</a></li><li><a href="#fmt" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">fmt</a></li><li><a href="#fs" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">fs</a></li><li><a href="#notion" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">notion</a></li><li><a href="#registry" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">registry</a></li><li><a href="#storage" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">storage</a></li><li><a href="#web" class="py-1.5 transition duration-100 inline-flex w-full items-center justify-between text-sm text-dim py-2 px-3 rounded-md hover:text-primary hover:bg-light-600 hover:dark:bg-dark-500">web</a></li></ul></aside></main><div class="fixed bottom-4 right-4 z-9 flex flex-col"><button data-action="toggle-menu" class="button-floating md:pointer-events-none md:opacity-0 group"><span class="tooltip opacity-0 group-hover:opacity-100 right-10 bottom-0"> Toggle menu </span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><button data-action="open-search" class="button-floating sm:pointer-events-none sm:opacity-0 group"><span class="tooltip opacity-0 group-hover:opacity-100 right-10 bottom-0"> Search </span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></button><button data-action="toggle-theme" class="button-floating sm:pointer-events-none sm:opacity-0 group"><span class="tooltip opacity-0 group-hover:opacity-100 right-10 bottom-0"> Toggle theme </span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></body></html>